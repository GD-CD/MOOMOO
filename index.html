<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Moo-ish Game</title>
  <style>
    body { margin: 0; background: #222; overflow: hidden; }
    canvas { display: block; background: #3a7d3a; }
  </style>
</head>
<body>
<canvas id="game"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

const player = {
  x: canvas.width / 2,
  y: canvas.height / 2,
  r: 20,
  speed: 4,
  angle: 0
};

const mouse = { x: 0, y: 0 };
const keys = {};

window.addEventListener("keydown", e => keys[e.key] = true);
window.addEventListener("keyup", e => keys[e.key] = false);

canvas.addEventListener("mousemove", e => {
  mouse.x = e.clientX;
  mouse.y = e.clientY;
});

function update() {
  if (keys["w"]) player.y -= player.speed;
  if (keys["s"]) player.y += player.speed;
  if (keys["a"]) player.x -= player.speed;
  if (keys["d"]) player.x += player.speed;

  player.angle = Math.atan2(mouse.y - player.y, mouse.x - player.x);
}

function drawPlayer() {
  ctx.save();
  ctx.translate(player.x, player.y);
  ctx.rotate(player.angle);

  // Body
  ctx.beginPath();
  ctx.arc(0, 0, player.r, 0, Math.PI * 2);
  ctx.fillStyle = "#d9d9d9";
  ctx.fill();

  // Weapon (spear / stick)
  ctx.beginPath();
  ctx.rect(player.r - 2, -4, 30, 8);
  ctx.fillStyle = "#8b5a2b";
  ctx.fill();

  // Weapon tip
  ctx.beginPath();
  ctx.moveTo(player.r + 30, 0);
  ctx.lineTo(player.r + 40, -6);
  ctx.lineTo(player.r + 40, 6);
  ctx.closePath();
  ctx.fillStyle = "#ccc";
  ctx.fill();

  ctx.restore();
}

function draw() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  drawPlayer();
}

function loop() {
  update();
  draw();
  requestAnimationFrame(loop);
}

loop();
</script>
</body>
</html>
